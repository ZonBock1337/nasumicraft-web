<div id="status-container">Lade Status...</div>

<script>
  fetch('https://mc.nasumicraft.de/services/api/nc-status-api')
    .then(res => res.text())
    .then(html => {
      const container = document.getElementById('status-container');
      container.innerHTML = html;

      // Eingebettete Skripte aktivieren
      const scripts = container.querySelectorAll("script");
      scripts.forEach(oldScript => {
        const newScript = document.createElement("script");
        if (oldScript.src) {
          newScript.src = oldScript.src;
        } else {
          newScript.textContent = oldScript.textContent;
        }
        document.body.appendChild(newScript);
      });
    })
    .catch(() => {
      document.getElementById('status-container').innerHTML =
        '<div class="status unstable" style="background-color: #fff3cd; color: #856404; padding: 0.6em 1em; border-radius: 6px; font-weight: bold;">Verbindung unterbrochen, Grund: Keine Verbindung zum Server</div>';
    });
</script>
